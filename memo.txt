[memo.txt]
photos> 사진글 게시화면 디자인, 사진 첨부

[6/2, W]
- with jstl error 500
	https://www.programmersought.com/article/60733912862/

-addPhotosController
@RequestMapping(value = "/photos/add", method = RequestMethod.GET)
	public String getAddNewPhotosForm(Model model) {
		Photo newPhotos = new Photo();
		model.addAttribute("newPhotos", newPhotos);
		return "addPhotos";
	}
@RequestMapping(value = "/photos/add", method = RequestMethod.POST)
	public String processAddNewPhotoForm(Model model,
			@ModelAttribute("newPhoto") @Valid Photo newPhoto,
			BindingResult result, HttpServletRequest request) {
		if (result.hasErrors()) {
			return "addPhoto";
		}

		try {
			String[] suppressedFields = result.getSuppressedFields();
			if (suppressedFields.length > 0) {
				throw new RuntimeException(
						"허용되지 않은 항목을 엮어오려고함: " + StringUtils.arrayToCommaDelimitedString(suppressedFields));
			} else {
				/**
				 * 상품 영상 메모리 내용 정한 폴더에 파일로 보관
				 */
				MultipartFile PhotoImage = newPhoto.getPhotoImage();
				String rootDirectory = request.getSession().getServletContext().getRealPath("/");
				if (PhotoImage != null && !PhotoImage.isEmpty()) {
					try {
						PhotoImage.transferTo(
								new File(rootDirectory + "resources\\images\\" + newPhoto.getPhotoId() + ".png"));
					} catch (Exception e) {
						throw new RuntimeException("Photo Image saving failed", e);
					}
				}
				
				photosService.addPhoto(newPhoto);
			}
			return "redirect:/photos";
		} catch (DataAccessException e) {
			String msg = e.getMessage();
			int idx = msg.lastIndexOf("Duplicate");
			model.addAttribute("errorMsg", msg.substring(idx));
			return "addPhoto";
		}
	}

[6/1 Tu]
- 페이징 https://po9357.github.io/spring/2019-05-28-Board_Paging/
- this.jdbcTemplate.queryForObject(
                    sql, new Object[] { parameter1,parameter2 }, Integer.class);
[5/30 Sun]
- 예외 처리
- "${name ne null}"
	<c:set var="name" value="홍길동" />
	<c:if test="${name eq '홍길동'}">
	    <c:out value="${str}" />
	</c:if>
	출처: https://offbyone.tistory.com/367 [쉬고 싶은 개발자]

[5/27 Th]
- 예외 처리 공부

[5/26 W]
- start = 1 + 3*(page-1)


[5/25 T]
- 형변환 int String 
	int to = Integer.parseInt(from);
	String to = Integer.toString(from);
	출처: https://nota.tistory.com/49 [nota's story]

- select * from cyworld.photos order by id desc limit 5;
	= select * from cyworld.photos order by id desc limit 0, 5;

- select row_number() over (order by p.id desc) as row_num, p.*
	from cyworld.photos p limit 0, 3;

	select row_number() over (order by p.id desc) as row_num, p.*
	from cyworld.photos p limit 3, 3;


-JSTL에서 변수두개사용하기
	서버에서 넘어오는 리스트가 두개일경우 예를들어
	
	<c:forEach var="list1" items="${list1}" var="list2" items="${list2}">
	    ${list1.name}
	    ${list2.name}
	</c:forEach>
	
	위 코드처럼 두개이상의 리스트가넘어오거나 변수를 사용하고싶다면 이렇게하면된다.
	
	<c:forEach var="list1" items="${list1}" varStatus="status">
	    ${list1.name}
	    ${list2[status.index].name}
	</c:forEach>
	이런식으로하면 두개의 변수도 사용가능하다.


[5/24 M]
- jstl 이중 forEach
	<c:forEach items="${list }" var="excelList">
	         <tr>
	          <c:forEach items="${excelList }" var="i">
	          <td>${i }</td>
	          </c:forEach>
	         </tr>
	        </c:forEach>
	[출처] [Jstl] 이중 forEach|작성자 onandme


- photoRepositoryImpl > getAllPhotos > params.put "photoFile" 값이 안들어감

